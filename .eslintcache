[{"/Users/ys/Desktop/train-ticket/src/query/index.js":"1","/Users/ys/Desktop/train-ticket/src/index/index.js":"2","/Users/ys/Desktop/train-ticket/src/ticket/index.js":"3","/Users/ys/Desktop/train-ticket/src/order/index.js":"4","/Users/ys/Desktop/train-ticket/src/query/App.jsx":"5","/Users/ys/Desktop/train-ticket/src/index/App.jsx":"6","/Users/ys/Desktop/train-ticket/src/ticket/App.jsx":"7","/Users/ys/Desktop/train-ticket/src/order/App.jsx":"8","/Users/ys/Desktop/train-ticket/src/index/store.js":"9","/Users/ys/Desktop/train-ticket/src/query/store.js":"10","/Users/ys/Desktop/train-ticket/src/ticket/store.js":"11","/Users/ys/Desktop/train-ticket/src/order/store.js":"12","/Users/ys/Desktop/train-ticket/src/query/reducers.js":"13","/Users/ys/Desktop/train-ticket/src/index/reducers.js":"14","/Users/ys/Desktop/train-ticket/src/ticket/reducers.js":"15","/Users/ys/Desktop/train-ticket/src/order/reducers.js":"16","/Users/ys/Desktop/train-ticket/src/index/DepartDate.jsx":"17","/Users/ys/Desktop/train-ticket/src/index/HighSpeed.jsx":"18","/Users/ys/Desktop/train-ticket/src/index/Journey.jsx":"19","/Users/ys/Desktop/train-ticket/src/index/Submit.jsx":"20","/Users/ys/Desktop/train-ticket/src/common/Header.jsx":"21","/Users/ys/Desktop/train-ticket/src/index/actions.js":"22","/Users/ys/Desktop/train-ticket/src/common/CitySelector.jsx":"23","/Users/ys/Desktop/train-ticket/src/common/fp.js":"24","/Users/ys/Desktop/train-ticket/src/common/DateSelector.jsx":"25","/Users/ys/Desktop/train-ticket/src/common/Nav.jsx":"26","/Users/ys/Desktop/train-ticket/src/query/List.jsx":"27","/Users/ys/Desktop/train-ticket/src/query/Bottom.jsx":"28","/Users/ys/Desktop/train-ticket/src/query/constant.js":"29","/Users/ys/Desktop/train-ticket/src/query/actions.js":"30","/Users/ys/Desktop/train-ticket/src/common/useNav.js":"31","/Users/ys/Desktop/train-ticket/src/query/Slider.jsx":"32","/Users/ys/Desktop/train-ticket/src/common/useWinSize.js":"33","/Users/ys/Desktop/train-ticket/src/ticket/Candidate.jsx":"34","/Users/ys/Desktop/train-ticket/src/common/Detail.jsx":"35","/Users/ys/Desktop/train-ticket/src/ticket/Schedule.jsx":"36","/Users/ys/Desktop/train-ticket/src/ticket/actions.js":"37","/Users/ys/Desktop/train-ticket/src/ticket/context.js":"38","/Users/ys/Desktop/train-ticket/src/order/actions.js":"39","/Users/ys/Desktop/train-ticket/src/order/Ticket.jsx":"40"},{"size":321,"mtime":1611712010000,"results":"41","hashOfConfig":"42"},{"size":321,"mtime":1611711629000,"results":"43","hashOfConfig":"42"},{"size":321,"mtime":1611712017000,"results":"44","hashOfConfig":"42"},{"size":321,"mtime":1611712029000,"results":"45","hashOfConfig":"42"},{"size":6433,"mtime":1612931090000,"results":"46","hashOfConfig":"42"},{"size":2900,"mtime":1612332242000,"results":"47","hashOfConfig":"42"},{"size":5614,"mtime":1613626352000,"results":"48","hashOfConfig":"42"},{"size":3291,"mtime":1613630852000,"results":"49","hashOfConfig":"42"},{"size":461,"mtime":1612303505000,"results":"50","hashOfConfig":"42"},{"size":915,"mtime":1612418535000,"results":"51","hashOfConfig":"42"},{"size":560,"mtime":1613024636000,"results":"52","hashOfConfig":"42"},{"size":624,"mtime":1613628433000,"results":"53","hashOfConfig":"42"},{"size":6589,"mtime":1612947664000,"results":"54","hashOfConfig":"42"},{"size":2563,"mtime":1611728236000,"results":"55","hashOfConfig":"42"},{"size":3063,"mtime":1613025093000,"results":"56","hashOfConfig":"42"},{"size":3804,"mtime":1613628498000,"results":"57","hashOfConfig":"42"},{"size":949,"mtime":1612324974000,"results":"58","hashOfConfig":"42"},{"size":1016,"mtime":1612331815000,"results":"59","hashOfConfig":"42"},{"size":849,"mtime":1611788340000,"results":"60","hashOfConfig":"42"},{"size":305,"mtime":1612332207000,"results":"61","hashOfConfig":"42"},{"size":597,"mtime":1611728971000,"results":"62","hashOfConfig":"42"},{"size":3768,"mtime":1611816701000,"results":"63","hashOfConfig":"42"},{"size":6436,"mtime":1612317198000,"results":"64","hashOfConfig":"42"},{"size":224,"mtime":1612322150000,"results":"65","hashOfConfig":"42"},{"size":4238,"mtime":1612328668000,"results":"66","hashOfConfig":"42"},{"size":1252,"mtime":1612599671000,"results":"67","hashOfConfig":"42"},{"size":2638,"mtime":1612866154000,"results":"68","hashOfConfig":"42"},{"size":14589,"mtime":1612947497000,"results":"69","hashOfConfig":"42"},{"size":63,"mtime":1612418255000,"results":"70","hashOfConfig":"42"},{"size":5482,"mtime":1612419321000,"results":"71","hashOfConfig":"42"},{"size":667,"mtime":1612599177000,"results":"72","hashOfConfig":"42"},{"size":5862,"mtime":1612948953000,"results":"73","hashOfConfig":"42"},{"size":625,"mtime":1612944444000,"results":"74","hashOfConfig":"42"},{"size":3608,"mtime":1613626545000,"results":"75","hashOfConfig":"42"},{"size":1897,"mtime":1613036603000,"results":"76","hashOfConfig":"42"},{"size":6152,"mtime":1613627217000,"results":"77","hashOfConfig":"42"},{"size":2818,"mtime":1613025092000,"results":"78","hashOfConfig":"42"},{"size":84,"mtime":1613626167000,"results":"79","hashOfConfig":"42"},{"size":10360,"mtime":1613628428000,"results":"80","hashOfConfig":"42"},{"size":607,"mtime":1613630803000,"results":"81","hashOfConfig":"42"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"7mtpsa",{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"84"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"84"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"84"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"84"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"84"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"84"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"84"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"84"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"84"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"154","usedDeprecatedRules":"84"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"157","usedDeprecatedRules":"84"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ys/Desktop/train-ticket/src/query/index.js",[],["174","175"],"/Users/ys/Desktop/train-ticket/src/index/index.js",[],"/Users/ys/Desktop/train-ticket/src/ticket/index.js",[],"/Users/ys/Desktop/train-ticket/src/order/index.js",[],"/Users/ys/Desktop/train-ticket/src/query/App.jsx",["176","177","178"],"import React, { useCallback, useEffect, useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport URI from 'urijs';\nimport dayjs from 'dayjs';\nimport { bindActionCreators } from 'redux';\n\nimport { h0 } from '../common/fp';\nimport Header from '../common/Header.jsx';\nimport Nav from '../common/Nav.jsx';\nimport List from './List.jsx';\nimport Bottom from './Bottom.jsx';\nimport useNav from '../common/useNav';\n\nimport {\n    setFrom,\n    setTo,\n    setDepartDate,\n    setHighSpeed,\n    setSearchParsed,\n    setTrainList,\n    setTicketTypes,\n    setTrainTypes,\n    setDepartStations,\n    setArriveStations,\n    prevDate,\n    nextDate,\n    toggleOrderType,\n    toggleHighSpeed,\n    toggleOnlyTickets,\n    toggleIsFiltersVisible,\n    setCheckedTicketTypes,\n    setCheckedTrainTypes,\n    setCheckedDepartStations,\n    setCheckedArriveStations,\n    setDepartTimeStart,\n    setDepartTimeEnd,\n    setArriveTimeStart,\n    setArriveTimeEnd,\n} from './actions';\n\nimport './App.css';\n\nfunction App(props) {\n\tconst {\n\t    trainList,\n\t    from,\n\t    to,\n\t    departDate,\n\t    highSpeed,\n\t    searchParsed,\n\t    dispatch,\n\t    orderType,\n\t    onlyTickets,\n\t    isFiltersVisible,\n\t    ticketTypes,\n\t    trainTypes,\n\t    departStations,\n\t    arriveStations,\n\t    checkedTicketTypes,\n\t    checkedTrainTypes,\n\t    checkedDepartStations,\n\t    checkedArriveStations,\n\t    departTimeStart,\n\t    departTimeEnd,\n\t    arriveTimeStart,\n\t    arriveTimeEnd,\n\t} = props;\n\n\tuseEffect(() => {\n\t    const queries = URI.parseQuery(window.location.search);\n\n\t    const { from, to, date, highSpeed } = queries;\n\n\t    dispatch(setFrom(from));\n\t    dispatch(setTo(to));\n\t    dispatch(setDepartDate(h0(dayjs(date).valueOf())));\n\t    dispatch(setHighSpeed(highSpeed === 'true'));\n\n\t    dispatch(setSearchParsed(true));\n\t}, []);\n\n\tuseEffect(() => {\n        if (!searchParsed) {\n            return;\n        }\n\n        const url = new URI('/rest/query')\n            .setSearch('from', from)\n            .setSearch('to', to)\n            .setSearch('date', dayjs(departDate).format('YYYY-MM-DD'))\n            .setSearch('highSpeed', highSpeed)\n            .setSearch('orderType', orderType)\n            .setSearch('onlyTickets', onlyTickets)\n            .setSearch(\n                'checkedTicketTypes',\n                Object.keys(checkedTicketTypes).join()\n            )\n            .setSearch(\n                'checkedTrainTypes',\n                Object.keys(checkedTrainTypes).join()\n            )\n            .setSearch(\n                'checkedDepartStations',\n                Object.keys(checkedDepartStations).join()\n            )\n            .setSearch(\n                'checkedArriveStations',\n                Object.keys(checkedArriveStations).join()\n            )\n            .setSearch('departTimeStart', departTimeStart)\n            .setSearch('departTimeEnd', departTimeEnd)\n            .setSearch('arriveTimeStart', arriveTimeStart)\n            .setSearch('arriveTimeEnd', arriveTimeEnd)\n            .toString();\n\n        fetch(url)\n            .then(response => response.json())\n            .then(result => {\n                const {\n                    dataMap: {\n                        directTrainInfo: {\n                            trains,\n                            filter: {\n                                ticketType,\n                                trainType,\n                                depStation,\n                                arrStation,\n                            },\n                        },\n                    },\n                } = result;\n\n                dispatch(setTrainList(trains));\n                dispatch(setTicketTypes(ticketType));\n                dispatch(setTrainTypes(trainType));\n                dispatch(setDepartStations(depStation));\n                dispatch(setArriveStations(arrStation));\n            });\n    }, [\n        from,\n        to,\n        departDate,\n        highSpeed,\n        searchParsed,\n        orderType,\n        onlyTickets,\n        checkedTicketTypes,\n        checkedTrainTypes,\n        checkedDepartStations,\n        checkedArriveStations,\n        departTimeStart,\n        departTimeEnd,\n        arriveTimeStart,\n        arriveTimeEnd,\n    ]);\n\n\tconst onBack = useCallback(() => {\n        window.history.back();\n    }, []);\n\n    const { isPrevDisabled, isNextDisabled, prev, next } = useNav(\n        departDate,\n        dispatch,\n        prevDate,\n        nextDate\n    );\n\n    const bottomCbs = useMemo(() => {\n        return bindActionCreators(\n            {\n                toggleOrderType,\n                toggleHighSpeed,\n                toggleOnlyTickets,\n                toggleIsFiltersVisible,\n                setCheckedTicketTypes,\n                setCheckedTrainTypes,\n                setCheckedDepartStations,\n                setCheckedArriveStations,\n                setDepartTimeStart,\n                setDepartTimeEnd,\n                setArriveTimeStart,\n                setArriveTimeEnd,\n            },\n            dispatch\n        );\n    }, []);\n\n\tif (!searchParsed) {\n        return null;\n    }\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"header-wrapper\">\n          <Header title={`${from} ⇀ ${to}`} onBack={onBack} />\n      </div>\n\t\t\t<Nav \n                date={departDate}\n                isPrevDisabled={isPrevDisabled}\n                isNextDisabled={isNextDisabled}\n                prev={prev}\n                next={next}\n            />\n\t\t\t<List list={trainList}/>\n\t\t\t<Bottom \n                highSpeed={highSpeed}\n                orderType={orderType}\n                onlyTickets={onlyTickets}\n                isFiltersVisible={isFiltersVisible}\n                ticketTypes={ticketTypes}\n                trainTypes={trainTypes}\n                departStations={departStations}\n                arriveStations={arriveStations}\n                checkedTicketTypes={checkedTicketTypes}\n                checkedTrainTypes={checkedTrainTypes}\n                checkedDepartStations={checkedDepartStations}\n                checkedArriveStations={checkedArriveStations}\n                departTimeStart={departTimeStart}\n                departTimeEnd={departTimeEnd}\n                arriveTimeStart={arriveTimeStart}\n                arriveTimeEnd={arriveTimeEnd}\n                {...bottomCbs}\n            />\n\t\t</div>\n\t)\n}\n\nexport default connect(\n\tfunction mapStateToProps(state) {\n\t\treturn state;\n\t},\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tdispatch\n\t\t};\n\t}\n)(App);","/Users/ys/Desktop/train-ticket/src/index/App.jsx",["179","180","181","182","183","184"],"import React, { \n\tuseCallback,\n\tuseMemo \n} from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport './App.css';\n\nimport Header from '../common/Header.jsx'\nimport DepartDate from './DepartDate.jsx'\nimport HighSpeed from './HighSpeed.jsx'\nimport Journey from './Journey.jsx'\nimport Submit from './Submit.jsx'\n\nimport CitySelector from '../common/CitySelector.jsx';\nimport DateSelector from '../common/DateSelector.jsx';\n\nimport { h0 } from '../common/fp';\n\nimport {\n\texchangeFromTo,\n\tshowCitySelector,\n\thideCitySelector,\n\tfetchCityData,\n\tsetSelectedCity,\n\tshowDateSelector,\n\thideDateSelector,\n\tsetDepartDate,\n\ttoggleHighSpeed,\n} from './actions'\n\nfunction App(props) {\n\tconst {\n\t\tfrom,\n\t\tto,\n\t\tisCitySelectorVisible,\n\t\tisDateSelectorVisible,\n\t\tcityData,\n\t\tisLoadingCityData,\n\t\thighSpeed,\n\t\tdispatch,\n\t\tdepartDate,\n\t} = props;\n\n\tconst onBack = useCallback(() => {\n\t\twindow.history.back();\n\t},[]);\n\n\tconst cbs = useMemo(() => {\n\t\treturn bindActionCreators({\n\t\t\texchangeFromTo,\n\t\t\tshowCitySelector\n\t\t}, dispatch);\n\t},[]);\n\n\tconst citySelectorCbs = useMemo(() => {\n        return bindActionCreators(\n            {\n                onBack: hideCitySelector,\n                fetchCityData,\n                onSelect: setSelectedCity,\n            },\n            dispatch\n        );\n    }, []);\n\n\tconst departDateCbs = useMemo(() => {\n        return bindActionCreators(\n            {\n                onClick: showDateSelector,\n            },\n            dispatch\n        );\n    }, []);\n\n\tconst dateSelectorCbs = useMemo(() => {\n        return bindActionCreators(\n            {\n                onBack: hideDateSelector,\n            },\n            dispatch\n        );\n    }, []);\n\n\tconst highSpeedCbs = useMemo(() => {\n        return bindActionCreators(\n            {\n                toggle: toggleHighSpeed,\n            },\n            dispatch\n        );\n    }, []);\n\n\tconst onSelectDate = useCallback((day) => {\n\t\tif(!day) {\n\t\t\treturn;\n\t\t}\n\t\tif (day < h0()) {\n\t\t\treturn;\n\t\t}\n\t\tdispatch(setDepartDate(day));\n\t\tdispatch(hideDateSelector());\n\t},[]);\n\n\treturn(\n\t\t<div>\n\t\t\t<div className=\"header-wrapper\">\n\t\t\t\t<Header title=\"Train Ticket\" onBack={onBack}/>\n\t\t\t</div>\n\t\t\t<form action=\"./query.html\" className=\"form\">\n\t\t\t\t<Journey \n\t\t\t\t\tfrom={from} \n\t\t\t\t\tto={to}\n\t\t\t\t\t{...cbs}\n\t\t\t\t/>\n\t\t\t\t<DepartDate\n\t\t\t\t\ttime={departDate}\n\t\t\t\t\t{...departDateCbs}\n\t\t\t\t/>\n\t\t\t\t<HighSpeed\n\t\t\t\thighSpeed={highSpeed} \n\t\t\t\t\t{...highSpeedCbs}\n\t\t\t\t/>\n\t\t\t\t<Submit/>\n\t\t\t</form>\n\t\t\t<CitySelector\n\t\t\t\tshow={isCitySelectorVisible}\n\t\t\t\tcityData={cityData}\n\t\t\t\tisLoading={isLoadingCityData}\n\t\t\t\t{...citySelectorCbs}\n\t\t\t/>\n\t\t\t<DateSelector \n\t\t\t\tshow={isDateSelectorVisible}\n\t\t\t\t{...dateSelectorCbs}\n\t\t\t\tonSelect={onSelectDate}\n\t\t\t/>\n\t\t</div>\n\n\t);\n\n}\n\nexport default connect(\n\tfunction mapStateToProps(state) {\n\t\treturn state;\n\t},\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn { dispatch };\n\t}\n)(App);","/Users/ys/Desktop/train-ticket/src/ticket/App.jsx",["185","186","187","188"],"import React, { useEffect, useCallback, useMemo, lazy, Suspense } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport URI from 'urijs';\nimport dayjs from 'dayjs';\nimport { h0 } from '../common/fp';\nimport useNav from '../common/useNav';\nimport Header from '../common/Header.jsx';\nimport Nav from '../common/Nav.jsx';\nimport Detail from '../common/Detail.jsx';\nimport Candidate from './Candidate.jsx';\nimport { TrainContext } from './context';\n//import Schedule from './Schedule.jsx';\nimport './App.css';\n\nimport {\n    setDepartStation,\n    setArriveStation,\n    setTrainNumber,\n    setDepartDate,\n    setSearchParsed,\n    prevDate,\n    nextDate,\n    setDepartTimeStr,\n    setArriveTimeStr,\n    setArriveDate,\n    setDurationStr,\n    setTickets,\n    toggleIsScheduleVisible,\n} from './actions';\n\nconst Schedule = lazy(() => import('./Schedule.jsx'));\n\nfunction App(props) {\n\tconst {\n        departDate,\n        arriveDate,\n        departTimeStr,\n        arriveTimeStr,\n        departStation,\n        arriveStation,\n        trainNumber,\n        durationStr,\n        tickets,\n        isScheduleVisible,\n        searchParsed,\n\n        dispatch,\n    } = props;\n\n    const onBack = useCallback(() => {\n        window.history.back();\n    }, []);\n\n    useEffect(() => {\n        const queries = URI.parseQuery(window.location.search);\n        const { aStation, dStation, date, trainNumber } = queries;\n\n        dispatch(setDepartStation(dStation));\n        dispatch(setArriveStation(aStation));\n        dispatch(setTrainNumber(trainNumber));\n        dispatch(setDepartDate(h0()));\n\n        dispatch(setSearchParsed(true));\n    }, []);\n\n    useEffect(() => {\n        document.title = trainNumber;\n    }, [trainNumber]);\n\n    useEffect(() => {\n        if (!searchParsed) {\n            return;\n        }\n\n        const url = new URI('/rest/ticket')\n            .setSearch('date', dayjs(departDate).format('YYYY-MM-DD'))\n            .setSearch('trainNumber', trainNumber)\n            .toString();\n\n        fetch(url)\n            .then(response => response.json())\n            .then(result => {\n                const { detail, candidates } = result;\n\n                const {\n                    departTimeStr,\n                    arriveTimeStr,\n                    arriveDate,\n                    durationStr,\n                } = detail;\n\n                dispatch(setDepartTimeStr(departTimeStr));\n                dispatch(setArriveTimeStr(arriveTimeStr));\n                dispatch(setArriveDate(arriveDate));\n                dispatch(setDurationStr(durationStr));\n                dispatch(setTickets(candidates));\n            });\n    }, [searchParsed, departDate, trainNumber]);\n\n    const { isPrevDisabled, isNextDisabled, prev, next } = useNav(\n        departDate,\n        dispatch,\n        prevDate,\n        nextDate\n    );\n\n    const detailCbs = useMemo(() => {\n        return bindActionCreators(\n            {\n                toggleIsScheduleVisible,\n            },\n            dispatch\n        );\n    }, []);\n\n    if (!searchParsed) {\n        return null;\n    }\n\n    return (\n        <div className=\"app\">\n            <div className=\"header-wrapper\">\n                <Header title={trainNumber} onBack={onBack} />\n            </div>\n            <div className=\"nav-wrapper\">\n                <Nav\n                    date={departDate}\n                    isPrevDisabled={isPrevDisabled}\n                    isNextDisabled={isNextDisabled}\n                    prev={prev}\n                    next={next}\n                />\n            </div>\n            <div className=\"detail-wrapper\">\n                <Detail\n                    departDate={departDate}\n                    arriveDate={arriveDate}\n                    departTimeStr={departTimeStr}\n                    arriveTimeStr={arriveTimeStr}\n                    trainNumber={trainNumber}\n                    departStation={departStation}\n                    arriveStation={arriveStation}\n                    durationStr={durationStr}\n                >\n                    <span className=\"left\"></span>\n                    <span\n                        className=\"schedule\"\n                        onClick={() => detailCbs.toggleIsScheduleVisible()}\n                    >\n                        Schedule\n                    </span>\n                    <span className=\"right\"></span>\n                </Detail>\n                <TrainContext.Provider\n                value={{\n                    trainNumber,\n                    departStation,\n                    arriveStation,\n                    departDate,\n                }}\n                >\n                    <Candidate tickets={tickets} />\n                </TrainContext.Provider>\n                {isScheduleVisible && (\n                    <div\n                        className=\"mask\"\n                        onClick={() => dispatch(toggleIsScheduleVisible())}\n                    >\n                        <Suspense fallback={<div>loading</div>}>\n                            <Schedule\n                                date={departDate}\n                                trainNumber={trainNumber}\n                                departStation={departStation}\n                                arriveStation={arriveStation}\n                            />\n                        </Suspense>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n\n}\n\nexport default connect(\n    function mapStateToProps(state) {\n        return state;\n    },\n    function mapDispatchToProps(dispatch) {\n        return { dispatch };\n    }\n)(App);","/Users/ys/Desktop/train-ticket/src/order/App.jsx",["189","190","191","192","193","194","195","196","197","198","199","200","201","202","203"],"/Users/ys/Desktop/train-ticket/src/index/store.js",[],"/Users/ys/Desktop/train-ticket/src/query/store.js",[],"/Users/ys/Desktop/train-ticket/src/ticket/store.js",[],"/Users/ys/Desktop/train-ticket/src/order/store.js",[],"/Users/ys/Desktop/train-ticket/src/query/reducers.js",["204"],"import {\n    ACTION_SET_FROM,\n    ACTION_SET_TO,\n    ACTION_SET_DEPART_DATE,\n    ACTION_SET_HIGH_SPEED,\n    ACTION_SET_TRAIN_LIST,\n    ACTION_SET_ORDER_TYPE,\n    ACTION_SET_ONLY_TICKETS,\n    ACTION_SET_TICKET_TYPES,\n    ACTION_SET_CHECKED_TICKET_TYPES,\n    ACTION_SET_TRAIN_TYPES,\n    ACTION_SET_CHECKED_TRAIN_TYPES,\n    ACTION_SET_DEPART_STATIONS,\n    ACTION_SET_CHECKED_DEPART_STATIONS,\n    ACTION_SET_ARRIVE_STATIONS,\n    ACTION_SET_CHECKED_ARRIVE_STATIONS,\n    ACTION_SET_DEPART_TIME_START,\n    ACTION_SET_DEPART_TIME_END,\n    ACTION_SET_ARRIVE_TIME_START,\n    ACTION_SET_ARRIVE_TIME_END,\n    ACTION_SET_IS_FILTERS_VISIBLE,\n    ACTION_SET_SEARCH_PARSED,\n} from './actions';\nimport { ORDER_DEPART } from './constant';\n\nexport default {\n    from(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_FROM:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    to(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_TO:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    departDate(state = Date.now(), action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DEPART_DATE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    highSpeed(state = false, action) {\n        const { type, payload } = action;\n        let checkedTrainTypes;\n\n        switch (type) {\n            case ACTION_SET_HIGH_SPEED:\n                return payload;\n            case ACTION_SET_CHECKED_TRAIN_TYPES:\n                checkedTrainTypes = payload;\n                return Boolean(checkedTrainTypes[1] && checkedTrainTypes[5]);\n            default:\n        }\n\n        return state;\n    },\n    trainList(state = [], action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_TRAIN_LIST:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    orderType(state = ORDER_DEPART, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_ORDER_TYPE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    onlyTickets(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_ONLY_TICKETS:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    ticketTypes(state = [], action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_TICKET_TYPES:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    checkedTicketTypes(state = {}, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_CHECKED_TICKET_TYPES:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    trainTypes(state = [], action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_TRAIN_TYPES:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    checkedTrainTypes(state = {}, action) {\n        const { type, payload } = action;\n\n        let highSpeed;\n        let newCheckedTrainTypes;\n\n        switch (type) {\n            case ACTION_SET_CHECKED_TRAIN_TYPES:\n                return payload;\n            case ACTION_SET_HIGH_SPEED:\n                highSpeed = payload;\n                newCheckedTrainTypes = { ...state };\n\n                if (highSpeed) {\n                    newCheckedTrainTypes[1] = true;\n                    newCheckedTrainTypes[5] = true;\n                } else {\n                    delete newCheckedTrainTypes[1];\n                    delete newCheckedTrainTypes[5];\n                }\n\n                return newCheckedTrainTypes;\n            default:\n        }\n\n        return state;\n    },\n    departStations(state = [], action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DEPART_STATIONS:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    checkedDepartStations(state = {}, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_CHECKED_DEPART_STATIONS:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    arriveStations(state = [], action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_ARRIVE_STATIONS:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    checkedArriveStations(state = {}, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_CHECKED_ARRIVE_STATIONS:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    departTimeStart(state = 0, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DEPART_TIME_START:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    departTimeEnd(state = 24, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DEPART_TIME_END:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    arriveTimeStart(state = 0, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_ARRIVE_TIME_START:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    arriveTimeEnd(state = 24, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_ARRIVE_TIME_END:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    isFiltersVisible(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_IS_FILTERS_VISIBLE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    searchParsed(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_SEARCH_PARSED:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n};","/Users/ys/Desktop/train-ticket/src/index/reducers.js",["205"],"import {\n    ACTION_SET_FROM,\n    ACTION_SET_TO,\n    ACTION_SET_IS_CITY_SELECTOR_VISIBLE,\n    ACTION_SET_CURRENT_SELECTING_LEFT_CITY,\n    ACTION_SET_CITY_DATA,\n    ACTION_SET_IS_LOADING_CITY_DATA,\n    ACTION_SET_IS_DATE_SELECTOR_VISIBLE,\n    ACTION_SET_HIGH_SPEED,\n    ACTION_SET_DEPART_DATE,\n} from './actions';\n\nexport default {\n\tfrom(state = 'Beijing', action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_FROM:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    to(state = 'Shanghai', action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_TO:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    isCitySelectorVisible(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_IS_CITY_SELECTOR_VISIBLE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    currentSelectingLeftCity(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_CURRENT_SELECTING_LEFT_CITY:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    cityData(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_CITY_DATA:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    isLoadingCityData(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_IS_LOADING_CITY_DATA:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    isDateSelectorVisible(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_IS_DATE_SELECTOR_VISIBLE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    highSpeed(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_HIGH_SPEED:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    departDate(state = Date.now(), action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DEPART_DATE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n\n\n};","/Users/ys/Desktop/train-ticket/src/ticket/reducers.js",["206"],"import {\n    ACTION_SET_DEPART_DATE,\n    ACTION_SET_ARRIVE_DATE,\n    ACTION_SET_DEPART_TIME_STR,\n    ACTION_SET_ARRIVE_TIME_STR,\n    ACTION_SET_DEPART_STATION,\n    ACTION_SET_ARRIVE_STATION,\n    ACTION_SET_TRAIN_NUMBER,\n    ACTION_SET_DURATION_STR,\n    ACTION_SET_TICKETS,\n    ACTION_SET_IS_SCHEDULE_VISIBLE,\n    ACTION_SET_SEARCH_PARSED,\n} from './actions';\n\nexport default {\n    departDate(state = Date.now(), action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DEPART_DATE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    arriveDate(state = Date.now(), action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_ARRIVE_DATE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    departTimeStr(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DEPART_TIME_STR:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    arriveTimeStr(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_ARRIVE_TIME_STR:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    departStation(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DEPART_STATION:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    arriveStation(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_ARRIVE_STATION:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    trainNumber(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_TRAIN_NUMBER:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    durationStr(state = null, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_DURATION_STR:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    tickets(state = [], action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_TICKETS:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    isScheduleVisible(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_IS_SCHEDULE_VISIBLE:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n    searchParsed(state = false, action) {\n        const { type, payload } = action;\n        switch (type) {\n            case ACTION_SET_SEARCH_PARSED:\n                return payload;\n            default:\n        }\n\n        return state;\n    },\n};\n","/Users/ys/Desktop/train-ticket/src/order/reducers.js",["207"],"export default {\n\n};","/Users/ys/Desktop/train-ticket/src/index/DepartDate.jsx",["208","209"],"import React,{\n\tuseMemo,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { h0 } from '../common/fp';\nimport dayjs from 'dayjs'\nimport './DepartDate.css';\n\n\nexport default function DepartDate(props) {\n\tconst  {\n\t\ttime,\n\t\tonClick,\n\t} = props;\n\n\tconst h0OfDepart = h0(time);\n\tconst departDate = new Date(h0OfDepart);\n\n\tconst departDateString = useMemo(()=> {\n\t\treturn dayjs(time).format('YYYY-MM-DD')\n\t},[h0OfDepart]);\n\n\t//should not use memo because h0\n\tconst isToday = h0OfDepart === h0();\n\tconst weekString = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][departDate.getDay()]\n\t\t+ (isToday ? '(Today)' : '');\n\n\n\treturn (\n\t\t<div className=\"depart-date\" onClick={onClick} >\n\t\t\t<input type=\"hidden\" name=\"date\" value={departDateString} />\n\t\t\t{ departDateString } <span className=\"depart-week\">{ weekString }</span>\n\t\t</div>\n\t);\n\n\tDepartDate.propTypes = {\n    time: PropTypes.number.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n}","/Users/ys/Desktop/train-ticket/src/index/HighSpeed.jsx",[],"/Users/ys/Desktop/train-ticket/src/index/Journey.jsx",[],"/Users/ys/Desktop/train-ticket/src/index/Submit.jsx",[],"/Users/ys/Desktop/train-ticket/src/common/Header.jsx",[],"/Users/ys/Desktop/train-ticket/src/index/actions.js",[],"/Users/ys/Desktop/train-ticket/src/common/CitySelector.jsx",["210"],"import React, { useState, useCallback, useEffect, useMemo, memo } from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport './CitySelector.css';\n\nconst CityItem = memo(function CityItem(props) {\n    const { name, onSelect } = props;\n\n    return (\n        <li className=\"city-li\" onClick={() => onSelect(name)}>\n            {name}\n        </li>\n    );\n});\n\nCityItem.propTypes = {\n    name: PropTypes.string.isRequired,\n    onSelect: PropTypes.func.isRequired,\n};\n\nconst CitySection = memo(function CitySection(props) {\n    const { title, cities = [], onSelect } = props;\n\n    return (\n        <ul className=\"city-ul\" data-cate={title}>\n            <li className=\"city-li\" key=\"title\">\n                {title}\n            </li>\n            {cities.map(city => {\n                return (\n                    <CityItem\n                        key={city.name}\n                        name={city.name}\n                        onSelect={onSelect}\n                    />\n                );\n            })}\n        </ul>\n    );\n});\n\nCitySection.propTypes = {\n    title: PropTypes.string.isRequired,\n    cities: PropTypes.array,\n    onSelect: PropTypes.func.isRequired,\n};\n\nconst AlphaIndex = memo(function AlphaIndex(props) {\n  const {\n    alpha,\n    onClick,\n  } = props;\n\n  return (\n    <i className=\"city-index-item\" onClick={()=>onClick(alpha)}>\n      { alpha }\n    </i>\n  );\n});\n\nAlphaIndex.propTypes = {\n    alpha: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nconst alphabet = Array.from(new Array(26), (ele, index) => {\n  return String.fromCharCode(65 + index);\n});\n\nconst CityList = memo(function CityList(props) {\n  const {\n    sections,\n    onSelect,\n    toAlpha,\n  } = props;\n\n  return (\n    <div className=\"city-list\">\n      <div className=\"city-cate\">\n      {\n        sections.map(section => {\n          return (\n            <CitySection\n              key={section.title}\n              title={section.title}\n              cities={section.citys}\n              onSelect={onSelect}\n            />\n          );\n        })\n      }\n      </div>\n      <div className=\"city-index\">\n      {\n        alphabet.map(alpha => {\n          return (\n            <AlphaIndex \n              key={alpha} \n              alpha={alpha} \n              onClick={toAlpha}\n            />\n          );\n        })\n      }\n      </div>\n    </div>\n  );\n});\n\nCityList.propTypes = {\n    sections: PropTypes.array.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    toAlpha: PropTypes.func.isRequired,\n};\n\nconst SuggestItem = memo(function SuggestItem(props) {\n    const { name, onClick } = props;\n\n    return (\n        <li className=\"city-suggest-li\" onClick={() => onClick(name)}>\n            {name}\n        </li>\n    );\n});\n\nSuggestItem.propTypes = {\n    name: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nconst Suggest = memo(function Suggest(props) {\n    const { searchKey, onSelect } = props;\n\n    const [result, setResult] = useState([]);\n\n    useEffect(() => {\n        fetch('/rest/search?key=' + encodeURIComponent(searchKey))\n            .then(res => res.json())\n            .then(data => {\n                const { result, searchKey: sKey } = data;\n\n                if (sKey === searchKey) {\n                    setResult(result);\n                }\n            });\n    }, [searchKey]);\n\n    const fallBackResult = useMemo(() => {\n        if (!result.length) {\n            return [\n                {\n                    display: searchKey,\n                },\n            ];\n        }\n\n        return result;\n    }, [result, searchKey]);\n\n    return (\n        <div className=\"city-suggest\">\n            <ul className=\"city-suggest-ul\">\n                {fallBackResult.map(item => {\n                    return (\n                        <SuggestItem\n                            key={item.display}\n                            name={item.display}\n                            onClick={onSelect}\n                        />\n                    );\n                })}\n            </ul>\n        </div>\n    );\n});\n\nSuggest.propTypes = {\n    searchKey: PropTypes.string.isRequired,\n    onSelect: PropTypes.func.isRequired,\n};\n\nconst CitySelector = memo(function CitySelector(props) {\n\tconst {\n\t\tshow,\n    cityData,\n    isLoading,\n    onBack,\n    fetchCityData,\n    onSelect,\n\t} = props;\n\n\tconst [searchKey, setSearchKey] = useState('');\n\n\tconst key = useMemo(() => searchKey.trim(), [searchKey]);\n\n\tuseEffect(() => {\n        if (!show || cityData || isLoading) {\n            return;\n        }\n\n        fetchCityData();\n    }, [show, cityData, isLoading]); \n\n  const toAlpha = useCallback(alpha => {\n    document.querySelector(`[data-cate='${alpha}']`)\n      .scrollIntoView();\n  },[]);\n\n  const outputCitySections = () => {\n    if (isLoading) {\n      return <div>loading</div>\n    }\n    if (cityData) {\n      return (\n        <CityList\n          sections={cityData.cityList}\n          onSelect={onSelect}\n          toAlpha={toAlpha}\n        />\n      );\n    }\n\n    return <div>error</div>;\n  }\n\n\treturn (\n\t\t<div className={classnames('city-selector', { hidden: !show })}>\n\t\t\t<div className=\"city-search\">\n\t\t\t\t<div className=\"search-back\" onClick={() => onBack()}>\n            <svg width=\"42\" height=\"42\">\n                <polyline\n                  points=\"25,13 16,21 25,29\"\n                  stroke=\"#fff\"\n                  strokeWidth=\"2\"\n                  fill=\"none\"\n                />\n            </svg>\n        </div>\n        <div className=\"search-input-wrapper\">\n          <input\n              type=\"text\"\n              value={searchKey}\n              className=\"search-input\"\n              placeholder=\"City Pinyin\"\n              onChange={e => setSearchKey(e.target.value)}\n          />\n      \t</div>\n      \t<i\n\t        onClick={() => setSearchKey('')}\n\t        className={classnames('search-clean', {\n\t            hidden: key.length === 0,\n\t        })}\n\t      >\n\t       &#xf063;\n        </i>\n\n\n\t\t\t</div>\n      {Boolean(key) && (\n                <Suggest searchKey={key} onSelect={key => onSelect(key)} />\n      )}\n      { outputCitySections() }\n\t\t</div>\n\t);\n});\n\nCitySelector.propTypes = {\n    show: PropTypes.bool.isRequired,\n    cityData: PropTypes.object,\n    isLoading: PropTypes.bool.isRequired,\n    onBack: PropTypes.func.isRequired,\n    fetchCityData: PropTypes.func.isRequired,\n    onSelect: PropTypes.func.isRequired,\n\n};\n\nexport default CitySelector;","/Users/ys/Desktop/train-ticket/src/common/fp.js",[],"/Users/ys/Desktop/train-ticket/src/common/DateSelector.jsx",[],"/Users/ys/Desktop/train-ticket/src/common/Nav.jsx",[],"/Users/ys/Desktop/train-ticket/src/query/List.jsx",[],"/Users/ys/Desktop/train-ticket/src/query/Bottom.jsx",[],"/Users/ys/Desktop/train-ticket/src/query/constant.js",[],"/Users/ys/Desktop/train-ticket/src/query/actions.js",[],"/Users/ys/Desktop/train-ticket/src/common/useNav.js",["211","212"],"import { useCallback } from 'react';\nimport { h0 } from './fp';\n\nexport default function useNav(departDate, dispatch, prevDate, nextDate) {\n    const isPrevDisabled = h0(departDate) <= h0();\n    const isNextDisabled = h0(departDate) - h0() > 20 * 86400 * 1000;\n\n    const prev = useCallback(() => {\n        if (isPrevDisabled) {\n            return;\n        }\n        dispatch(prevDate());\n    }, [isPrevDisabled]);\n\n    const next = useCallback(() => {\n        if (isNextDisabled) {\n            return;\n        }\n        dispatch(nextDate());\n    }, [isNextDisabled]);\n\n    return {\n        isPrevDisabled,\n        isNextDisabled,\n        prev,\n        next,\n    };\n}","/Users/ys/Desktop/train-ticket/src/query/Slider.jsx",["213","214"],"import React, { memo, useState, useMemo, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport leftPad from 'left-pad';\nimport useWinSize from '../common/useWinSize';\nimport './Slider.css';\n\nconst Slider = memo(function Slider(props) {\n    const {\n        title,\n        currentStartHours,\n        currentEndHours,\n        onStartChanged,\n        onEndChanged,\n    } = props;\n\n    const winSize = useWinSize();\n\n    const startHandle = useRef();\n    const endHandle = useRef();\n\n    const lastStartX = useRef();\n    const lastEndX = useRef();\n\n    const range = useRef();\n    const rangeWidth = useRef();\n\n    const prevCurrentStartHours = useRef(currentStartHours);\n    const prevCurrentEndHours = useRef(currentEndHours);\n\n    const [start, setStart] = useState(() => (currentStartHours / 24) * 100);\n    const [end, setEnd] = useState(() => (currentEndHours / 24) * 100);\n\n    if (prevCurrentStartHours.current !== currentStartHours) {\n        setStart((currentStartHours / 24) * 100);\n        prevCurrentStartHours.current = currentStartHours;\n    }\n\n    if (prevCurrentEndHours.current !== currentEndHours) {\n        setEnd((currentEndHours / 24) * 100);\n        prevCurrentEndHours.current = currentEndHours;\n    }\n\n    const startPercent = useMemo(() => {\n        if (start > 100) {\n            return 100;\n        }\n\n        if (start < 0) {\n            return 0;\n        }\n\n        return start;\n    }, [start]);\n\n    const endPercent = useMemo(() => {\n        if (end > 100) {\n            return 100;\n        }\n\n        if (end < 0) {\n            return 0;\n        }\n\n        return end;\n    }, [end]);\n\n    const startHours = useMemo(() => {\n        return Math.round((startPercent * 24) / 100);\n    }, [startPercent]);\n\n    const endHours = useMemo(() => {\n        return Math.round((endPercent * 24) / 100);\n    }, [endPercent]);\n\n    const startText = useMemo(() => {\n        return leftPad(startHours, 2, '0') + ':00';\n    }, [startHours]);\n\n    const endText = useMemo(() => {\n        return leftPad(endHours, 2, '0') + ':00';\n    }, [endHours]);\n\n    function onStartTouchBegin(e) {\n        const touch = e.targetTouches[0];\n        lastStartX.current = touch.pageX;\n    }\n\n    function onEndTouchBegin(e) {\n        const touch = e.targetTouches[0];\n        lastEndX.current = touch.pageX;\n    }\n\n    function onStartTouchMove(e) {\n        const touch = e.targetTouches[0];\n        const distance = touch.pageX - lastStartX.current;\n        lastStartX.current = touch.pageX;\n\n        setStart(start => start + (distance / rangeWidth.current) * 100);\n    }\n\n    function onEndTouchMove(e) {\n        const touch = e.targetTouches[0];\n        const distance = touch.pageX - lastEndX.current;\n        lastEndX.current = touch.pageX;\n\n        setEnd(end => end + (distance / rangeWidth.current) * 100);\n    }\n\n    useEffect(() => {\n        rangeWidth.current = parseFloat(\n            window.getComputedStyle(range.current).width\n        );\n    }, [winSize.width]);\n\n    useEffect(() => {\n        const startHandleInstance = startHandle.current;\n        const endHandleInstance = endHandle.current;\n\n        startHandleInstance.addEventListener(\n            'touchstart',\n            onStartTouchBegin,\n            false\n        );\n        startHandleInstance.addEventListener(\n            'touchmove',\n            onStartTouchMove,\n            false\n        );\n        endHandleInstance.addEventListener(\n            'touchstart',\n            onEndTouchBegin,\n            false\n        );\n        endHandleInstance.addEventListener('touchmove', onEndTouchMove, false);\n\n        return () => {\n            startHandleInstance.removeEventListener(\n                'touchstart',\n                onStartTouchBegin,\n                false\n            );\n            startHandleInstance.removeEventListener(\n                'touchmove',\n                onStartTouchMove,\n                false\n            );\n            endHandleInstance.removeEventListener(\n                'touchstart',\n                onEndTouchBegin,\n                false\n            );\n            endHandleInstance.removeEventListener(\n                'touchmove',\n                onEndTouchMove,\n                false\n            );\n        };\n    });\n\n    useEffect(() => {\n        onStartChanged(startHours);\n    }, [startHours]);\n\n    useEffect(() => {\n        onEndChanged(endHours);\n    }, [endHours]);\n\n    return (\n        <div className=\"option\">\n            <h3>{title}</h3>\n            <div className=\"range-slider\">\n                <div className=\"slider\" ref={range}>\n                    <div\n                        className=\"slider-range\"\n                        style={{\n                            left: startPercent + '%',\n                            width: endPercent - startPercent + '%',\n                        }}\n                    ></div>\n                    <i\n                        ref={startHandle}\n                        className=\"slider-handle\"\n                        style={{\n                            left: startPercent + '%',\n                        }}\n                    >\n                        <span>{startText}</span>\n                    </i>\n                    <i\n                        ref={endHandle}\n                        className=\"slider-handle\"\n                        style={{\n                            left: endPercent + '%',\n                        }}\n                    >\n                        <span>{endText}</span>\n                    </i>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nSlider.propTypes = {\n    title: PropTypes.string.isRequired,\n    currentStartHours: PropTypes.number.isRequired,\n    currentEndHours: PropTypes.number.isRequired,\n    onStartChanged: PropTypes.func.isRequired,\n    onEndChanged: PropTypes.func.isRequired,\n};\n\nexport default Slider;","/Users/ys/Desktop/train-ticket/src/common/useWinSize.js",[],"/Users/ys/Desktop/train-ticket/src/ticket/Candidate.jsx",[],"/Users/ys/Desktop/train-ticket/src/common/Detail.jsx",[],"/Users/ys/Desktop/train-ticket/src/ticket/Schedule.jsx",[],"/Users/ys/Desktop/train-ticket/src/ticket/actions.js",[],"/Users/ys/Desktop/train-ticket/src/ticket/context.js",[],"/Users/ys/Desktop/train-ticket/src/order/actions.js",[],"/Users/ys/Desktop/train-ticket/src/order/Ticket.jsx",[],{"ruleId":"215","replacedBy":"216"},{"ruleId":"217","replacedBy":"218"},{"ruleId":"219","severity":1,"message":"220","line":80,"column":5,"nodeType":"221","endLine":80,"endColumn":7,"suggestions":"222"},{"ruleId":"219","severity":1,"message":"220","line":139,"column":8,"nodeType":"221","endLine":155,"endColumn":6,"suggestions":"223"},{"ruleId":"219","severity":1,"message":"224","line":186,"column":8,"nodeType":"221","endLine":186,"endColumn":10,"suggestions":"225"},{"ruleId":"219","severity":1,"message":"224","line":54,"column":4,"nodeType":"221","endLine":54,"endColumn":6,"suggestions":"226"},{"ruleId":"219","severity":1,"message":"224","line":65,"column":8,"nodeType":"221","endLine":65,"endColumn":10,"suggestions":"227"},{"ruleId":"219","severity":1,"message":"224","line":74,"column":8,"nodeType":"221","endLine":74,"endColumn":10,"suggestions":"228"},{"ruleId":"219","severity":1,"message":"224","line":83,"column":8,"nodeType":"221","endLine":83,"endColumn":10,"suggestions":"229"},{"ruleId":"219","severity":1,"message":"224","line":92,"column":8,"nodeType":"221","endLine":92,"endColumn":10,"suggestions":"230"},{"ruleId":"219","severity":1,"message":"231","line":103,"column":4,"nodeType":"221","endLine":103,"endColumn":6,"suggestions":"232"},{"ruleId":"233","severity":1,"message":"234","line":57,"column":37,"nodeType":"235","messageId":"236","endLine":57,"endColumn":41},{"ruleId":"219","severity":1,"message":"220","line":65,"column":8,"nodeType":"221","endLine":65,"endColumn":10,"suggestions":"237"},{"ruleId":"219","severity":1,"message":"220","line":99,"column":8,"nodeType":"221","endLine":99,"endColumn":47,"suggestions":"238"},{"ruleId":"219","severity":1,"message":"224","line":115,"column":8,"nodeType":"221","endLine":115,"endColumn":10,"suggestions":"239"},{"ruleId":"233","severity":1,"message":"240","line":1,"column":41,"nodeType":"235","messageId":"236","endLine":1,"endColumn":48},{"ruleId":"233","severity":1,"message":"241","line":4,"column":10,"nodeType":"235","messageId":"236","endLine":4,"endColumn":28},{"ruleId":"233","severity":1,"message":"242","line":24,"column":5,"nodeType":"235","messageId":"236","endLine":24,"endColumn":16},{"ruleId":"233","severity":1,"message":"243","line":25,"column":5,"nodeType":"235","messageId":"236","endLine":25,"endColumn":16},{"ruleId":"233","severity":1,"message":"244","line":26,"column":5,"nodeType":"235","messageId":"236","endLine":26,"endColumn":20},{"ruleId":"233","severity":1,"message":"245","line":27,"column":5,"nodeType":"235","messageId":"236","endLine":27,"endColumn":20},{"ruleId":"233","severity":1,"message":"246","line":28,"column":5,"nodeType":"235","messageId":"236","endLine":28,"endColumn":13},{"ruleId":"233","severity":1,"message":"247","line":29,"column":5,"nodeType":"235","messageId":"236","endLine":29,"endColumn":19},{"ruleId":"233","severity":1,"message":"248","line":30,"column":5,"nodeType":"235","messageId":"236","endLine":30,"endColumn":24},{"ruleId":"233","severity":1,"message":"249","line":31,"column":5,"nodeType":"235","messageId":"236","endLine":31,"endColumn":23},{"ruleId":"233","severity":1,"message":"250","line":46,"column":9,"nodeType":"235","messageId":"236","endLine":46,"endColumn":19},{"ruleId":"233","severity":1,"message":"251","line":47,"column":9,"nodeType":"235","messageId":"236","endLine":47,"endColumn":13},{"ruleId":"233","severity":1,"message":"252","line":48,"column":9,"nodeType":"235","messageId":"236","endLine":48,"endColumn":22},{"ruleId":"219","severity":1,"message":"220","line":68,"column":8,"nodeType":"221","endLine":68,"endColumn":10,"suggestions":"253"},{"ruleId":"219","severity":1,"message":"220","line":82,"column":8,"nodeType":"221","endLine":82,"endColumn":74,"suggestions":"254"},{"ruleId":"255","severity":1,"message":"256","line":26,"column":1,"nodeType":"257","endLine":259,"endColumn":3},{"ruleId":"255","severity":1,"message":"256","line":13,"column":1,"nodeType":"257","endLine":106,"endColumn":3},{"ruleId":"255","severity":1,"message":"256","line":15,"column":1,"nodeType":"257","endLine":126,"endColumn":3},{"ruleId":"255","severity":1,"message":"256","line":1,"column":1,"nodeType":"257","endLine":3,"endColumn":3},{"ruleId":"219","severity":1,"message":"258","line":21,"column":4,"nodeType":"221","endLine":21,"endColumn":16,"suggestions":"259"},{"ruleId":"260","severity":1,"message":"261","line":35,"column":2,"nodeType":"262","messageId":"263","endLine":38,"endColumn":3},{"ruleId":"219","severity":1,"message":"264","line":202,"column":8,"nodeType":"221","endLine":202,"endColumn":35,"suggestions":"265"},{"ruleId":"219","severity":1,"message":"266","line":13,"column":8,"nodeType":"221","endLine":13,"endColumn":24,"suggestions":"267"},{"ruleId":"219","severity":1,"message":"268","line":20,"column":8,"nodeType":"221","endLine":20,"endColumn":24,"suggestions":"269"},{"ruleId":"219","severity":1,"message":"270","line":162,"column":8,"nodeType":"221","endLine":162,"endColumn":20,"suggestions":"271"},{"ruleId":"219","severity":1,"message":"272","line":166,"column":8,"nodeType":"221","endLine":166,"endColumn":18,"suggestions":"273"},"no-native-reassign",["274"],"no-negated-in-lhs",["275"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["276"],["277"],"React Hook useMemo has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["278"],["279"],["280"],["281"],["282"],["283"],"React Hook useCallback has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["284"],"no-unused-vars","'date' is assigned a value but never used.","Identifier","unusedVar",["285"],["286"],["287"],"'useMemo' is defined but never used.","'bindActionCreators' is defined but never used.","'createAdult' is defined but never used.","'createChild' is defined but never used.","'removePassenger' is defined but never used.","'updatePassenger' is defined but never used.","'hideMenu' is defined but never used.","'showGenderMenu' is defined but never used.","'showFollowAdultMenu' is defined but never used.","'showTicketTypeMenu' is defined but never used.","'passengers' is assigned a value but never used.","'menu' is assigned a value but never used.","'isMenuVisible' is assigned a value but never used.",["288"],["289"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","React Hook useMemo has a missing dependency: 'time'. Either include it or remove the dependency array.",["290"],"no-unreachable","Unreachable code.","ExpressionStatement","unreachableCode","React Hook useEffect has a missing dependency: 'fetchCityData'. Either include it or remove the dependency array.",["291"],"React Hook useCallback has missing dependencies: 'dispatch' and 'prevDate'. Either include them or remove the dependency array. If 'dispatch' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["292"],"React Hook useCallback has missing dependencies: 'dispatch' and 'nextDate'. Either include them or remove the dependency array. If 'dispatch' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["293"],"React Hook useEffect has a missing dependency: 'onStartChanged'. Either include it or remove the dependency array.",["294"],"React Hook useEffect has a missing dependency: 'onEndChanged'. Either include it or remove the dependency array.",["295"],"no-global-assign","no-unsafe-negation",{"desc":"296","fix":"297"},{"desc":"298","fix":"299"},{"desc":"296","fix":"300"},{"desc":"296","fix":"301"},{"desc":"296","fix":"302"},{"desc":"296","fix":"303"},{"desc":"296","fix":"304"},{"desc":"296","fix":"305"},{"desc":"296","fix":"306"},{"desc":"296","fix":"307"},{"desc":"308","fix":"309"},{"desc":"296","fix":"310"},{"desc":"296","fix":"311"},{"desc":"312","fix":"313"},{"desc":"314","fix":"315"},{"desc":"316","fix":"317"},{"desc":"318","fix":"319"},{"desc":"320","fix":"321"},{"desc":"322","fix":"323"},{"desc":"324","fix":"325"},"Update the dependencies array to be: [dispatch]",{"range":"326","text":"327"},"Update the dependencies array to be: [from, to, departDate, highSpeed, searchParsed, orderType, onlyTickets, checkedTicketTypes, checkedTrainTypes, checkedDepartStations, checkedArriveStations, departTimeStart, departTimeEnd, arriveTimeStart, arriveTimeEnd, dispatch]",{"range":"328","text":"329"},{"range":"330","text":"327"},{"range":"331","text":"327"},{"range":"332","text":"327"},{"range":"333","text":"327"},{"range":"334","text":"327"},{"range":"335","text":"327"},{"range":"336","text":"327"},{"range":"337","text":"327"},"Update the dependencies array to be: [searchParsed, departDate, trainNumber, dispatch]",{"range":"338","text":"339"},{"range":"340","text":"327"},{"range":"341","text":"327"},"Update the dependencies array to be: [searchParsed, departStation, arriveStation, seatType, departDate, dispatch]",{"range":"342","text":"343"},"Update the dependencies array to be: [time]",{"range":"344","text":"345"},"Update the dependencies array to be: [show, cityData, isLoading, fetchCityData]",{"range":"346","text":"347"},"Update the dependencies array to be: [dispatch, isPrevDisabled, prevDate]",{"range":"348","text":"349"},"Update the dependencies array to be: [dispatch, isNextDisabled, nextDate]",{"range":"350","text":"351"},"Update the dependencies array to be: [onStartChanged, startHours]",{"range":"352","text":"353"},"Update the dependencies array to be: [endHours, onEndChanged]",{"range":"354","text":"355"},[1794,1796],"[dispatch]",[3840,4187],"[from, to, departDate, highSpeed, searchParsed, orderType, onlyTickets, checkedTicketTypes, checkedTrainTypes, checkedDepartStations, checkedArriveStations, departTimeStart, departTimeEnd, arriveTimeStart, arriveTimeEnd, dispatch]",[5002,5004],[1060,1062],[1326,1328],[1517,1519],[1709,1711],[1897,1899],[2078,2080],[1673,1675],[2676,2715],"[searchParsed, departDate, trainNumber, dispatch]",[3049,3051],[1703,1705],[2115,2181],"[searchParsed, departStation, arriveStation, seatType, departDate, dispatch]",[412,424],"[time]",[4591,4618],"[show, cityData, isLoading, fetchCityData]",[396,412],"[dispatch, isPrevDisabled, prevDate]",[550,566],"[dispatch, isNextDisabled, nextDate]",[4322,4334],"[onStartChanged, startHours]",[4399,4409],"[endHours, onEndChanged]"]